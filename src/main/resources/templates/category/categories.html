<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layouts/header :: headerfiles(~{::title}, ~{::link}, ~{::script})">

    <title>Welcome Page</title>
    <link rel="stylesheet" type="text/css" th:href="@{/styles/index.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/styles/manage_clients.css}"/>
    <script th:src="@{/js/index.js}" type="text/javascript"></script>

</head>
<body class="area">
<div th:replace="layouts/navbar :: navbar"></div>

<div class="container text-center">
    <div class="center m-5">
        <div class="pb-5"><h2>Product Categories</h2>
            <a class="h3" th:href="@{/admin/saveCategory}">Add Categorie</a>
        </div>
        <div th:if="${message}" class="alert alert-success text-center">
            [[${message}]]
        </div>
        <div th:if="${messageErr}" class="alert alert-danger text-center">
            [[${message}]]
        </div>

        <table class="table align-middle mb-0 bg-white">
            <thead class="bg-light">
            <tr>
                <th>Name & Id</th>
                <th>Products</th>
                <th>Action</th>
            </tr>
            </thead>
            <tbody>
            <th:block th:each="category : ${categories}">
                <tr >
                    <td>
                        <div class="d-flex align-items-center">
                            <div class="ms-3">
                                <p class="fw-bold mb-1">[[${category.name}]]</p>
                                <p class="text-muted mb-0">[[${category.id}]]</p>
                            </div>
                        </div>
                    </td>
                    <td>
                    <span class="badge  badge-info rounded-pill">
                    [[${category.products}]]</span>
                    </td>
                    <td>
                        <a class="btn btn-rounded fw-bold btn-danger"
                           data-mdb-ripple-color="dark"
                           th:href="@{'/admin/category/delete/'+ ${category.id} }">delete</a>
                    </td>
                </tr>
            </th:block>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>